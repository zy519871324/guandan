{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"card__inner\"\n};\nvar _hoisted_2 = {\n  \"class\": \"card__front\"\n};\nvar _hoisted_3 = {\n  \"class\": \"card__suit\"\n};\nvar _hoisted_4 = {\n  \"class\": \"card__rank\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    \"class\": _normalizeClass([\"card\", {\n      'card--selected': $props.selected,\n      'card--face-down': $props.faceDown,\n      'card--played': $props.played,\n      'card--hoverable': $props.hoverable,\n      'card--stacked': $props.stacked\n    }]),\n    style: _normalizeStyle($options.cardStyle),\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.handleClick && $options.handleClick.apply($options, arguments);\n    }),\n    onTouchstart: _cache[1] || (_cache[1] = function () {\n      return $options.handleTouchStart && $options.handleTouchStart.apply($options, arguments);\n    }),\n    onTouchmove: _cache[2] || (_cache[2] = function () {\n      return $options.handleTouchMove && $options.handleTouchMove.apply($options, arguments);\n    }),\n    onTouchend: _cache[3] || (_cache[3] = function () {\n      return $options.handleTouchEnd && $options.handleTouchEnd.apply($options, arguments);\n    })\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, _toDisplayString($props.suit), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_4, _toDisplayString($props.rank), 1 /* TEXT */)]), _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    \"class\": \"card__back\"\n  }, null, -1 /* HOISTED */))])], 38 /* CLASS, STYLE, NEED_HYDRATION */);\n}","map":{"version":3,"names":["_createElementBlock","_normalizeClass","$props","selected","faceDown","played","hoverable","stacked","style","_normalizeStyle","$options","cardStyle","onClick","_cache","handleClick","apply","arguments","onTouchstart","handleTouchStart","onTouchmove","handleTouchMove","onTouchend","handleTouchEnd","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","suit","_hoisted_4","rank"],"sources":["/Users/zhangyang/Desktop/py/guandan/frontend/src/components/Card.vue"],"sourcesContent":["<template>\n  <div \n    class=\"card\" \n    :class=\"{\n      'card--selected': selected,\n      'card--face-down': faceDown,\n      'card--played': played,\n      'card--hoverable': hoverable,\n      'card--stacked': stacked\n    }\"\n    :style=\"cardStyle\"\n    @click=\"handleClick\"\n    @touchstart=\"handleTouchStart\"\n    @touchmove=\"handleTouchMove\"\n    @touchend=\"handleTouchEnd\"\n  >\n    <div class=\"card__inner\">\n      <div class=\"card__front\">\n        <div class=\"card__suit\">{{ suit }}</div>\n        <div class=\"card__rank\">{{ rank }}</div>\n      </div>\n      <div class=\"card__back\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Card',\n  props: {\n    suit: {\n      type: String,\n      required: true\n    },\n    rank: {\n      type: String,\n      required: true\n    },\n    selected: {\n      type: Boolean,\n      default: false\n    },\n    faceDown: {\n      type: Boolean,\n      default: false\n    },\n    played: {\n      type: Boolean,\n      default: false\n    },\n    hoverable: {\n      type: Boolean,\n      default: true\n    },\n    stacked: {\n      type: Boolean,\n      default: false\n    },\n    position: {\n      type: Object,\n      default: () => ({ x: 0, y: 0 })\n    },\n    index: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      touchStartX: 0,\n      touchStartY: 0,\n      isDragging: false\n    }\n  },\n  computed: {\n    cardStyle() {\n      return {\n        transform: `translate(${this.position.x}px, ${this.position.y}px)`,\n        zIndex: this.selected ? 100 : 1\n      }\n    }\n  },\n  methods: {\n    handleClick() {\n      if (!this.hoverable) return\n      this.$emit('click')\n    },\n    handleTouchStart(event) {\n      if (!this.hoverable) return;\n      this.touchStartX = event.touches[0].clientX;\n      this.touchStartY = event.touches[0].clientY;\n      this.isDragging = false;\n    },\n    handleTouchMove(event) {\n      if (!this.hoverable) return;\n      const touchX = event.touches[0].clientX;\n      const touchY = event.touches[0].clientY;\n      const deltaX = touchX - this.touchStartX;\n      const deltaY = touchY - this.touchStartY;\n      \n      if (Math.abs(deltaX) > 10 || Math.abs(deltaY) > 10) {\n        this.isDragging = true;\n      }\n    },\n    handleTouchEnd(event) {\n      if (!this.hoverable) return;\n      if (!this.isDragging) {\n        this.handleClick();\n      }\n      this.isDragging = false;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.card {\n  width: 70px;\n  height: 100px;\n  perspective: 1000px;\n  cursor: pointer;\n  position: relative;\n  transition: transform 0.3s ease;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  touch-action: none; /* 防止触摸事件的默认行为 */\n  -webkit-touch-callout: none; /* 防止长按菜单 */\n  -webkit-user-select: none; /* 防止文本选择 */\n}\n\n.card--hoverable:hover {\n  transform: translateY(-10px) !important;\n}\n\n.card--selected {\n  transform: translateY(-20px) !important;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\n}\n\n.card--played {\n  animation: playCard 0.5s ease-out;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n}\n\n.card__inner {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  transition: transform 0.6s;\n  transform-style: preserve-3d;\n}\n\n.card--face-down .card__inner {\n  transform: rotateY(180deg);\n}\n\n.card__front,\n.card__back {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  backface-visibility: hidden;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5em;\n  font-weight: bold;\n}\n\n.card__front {\n  background: white;\n  color: #333;\n  border: 2px solid #ddd;\n}\n\n.card__back {\n  background: linear-gradient(45deg, #b22222 25%, transparent 25%),\n              linear-gradient(-45deg, #b22222 25%, transparent 25%),\n              linear-gradient(45deg, transparent 75%, #b22222 75%),\n              linear-gradient(-45deg, transparent 75%, #b22222 75%);\n  background-size: 20px 20px;\n  background-color: #d40000;\n  transform: rotateY(180deg);\n}\n\n.card__suit {\n  font-size: 1.8em;\n  margin-bottom: 5px;\n  color: #000;  /* 默认黑色 */\n}\n\n.card__suit[data-suit=\"♥\"],\n.card__suit[data-suit=\"♦\"] {\n  color: #ff0000 !important;  /* 使用 !important 确保红色生效 */\n}\n\n.card__suit[data-suit=\"♠\"],\n.card__suit[data-suit=\"♣\"] {\n  color: #000000 !important;\n}\n\n.card__rank {\n  font-size: 1.2em;\n  color: #000;  /* 默认黑色 */\n}\n\n@keyframes playCard {\n  0% {\n    transform: scale(1) translateY(0);\n    opacity: 1;\n  }\n  50% {\n    transform: scale(1.2) translateY(-20px);\n    opacity: 0.8;\n  }\n  100% {\n    transform: scale(1) translateY(0);\n    opacity: 1;\n  }\n}\n\n/* 移动端适配 */\n@media (max-width: 768px) {\n  .card {\n    width: 50px;\n    height: 70px;\n  }\n\n  .card__suit {\n    font-size: 1.4em;\n  }\n\n  .card__rank {\n    font-size: 1em;\n  }\n\n  .card--hoverable:hover {\n    transform: translateY(-5px) !important;\n  }\n\n  .card--selected {\n    transform: translateY(-10px) !important;\n  }\n}\n\n/* 横屏适配 */\n@media (max-height: 600px) and (orientation: landscape) {\n  .card {\n    width: 45px;\n    height: 65px;\n  }\n\n  .card__suit {\n    font-size: 1.2em;\n  }\n\n  .card__rank {\n    font-size: 0.9em;\n  }\n\n  .card--hoverable:hover {\n    transform: translateY(-3px) !important;\n  }\n\n  .card--selected {\n    transform: translateY(-6px) !important;\n  }\n}\n\n.card--stacked {\n  margin-left: -15px;  /* 减小堆叠间距，让牌面更容易看到 */\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n.card--stacked:first-child {\n  margin-left: 0;\n}\n\n.card--stacked .card__front {\n  border-radius: 10px 0 0 10px;\n  transform-origin: left center;\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\n  background: linear-gradient(to right, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.8));\n}\n\n.card--stacked .card__back {\n  border-radius: 10px 0 0 10px;\n  transform-origin: left center;\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\n}\n\n.card--stacked:hover {\n  z-index: 10;\n  transform: translateX(20px);\n}\n\n.card--stacked.card--selected {\n  z-index: 20;\n  transform: translateY(-20px);\n}\n\n/* 花色颜色 */\n.card__suit[data-suit=\"♥\"],\n.card__suit[data-suit=\"♦\"] {\n  color: #ff0000 !important;  /* 使用 !important 确保红色生效 */\n}\n\n.card__suit[data-suit=\"♠\"],\n.card__suit[data-suit=\"♣\"] {\n  color: #000000 !important;\n}\n\n/* 移动端适配 */\n@media (max-width: 768px) {\n  .card--stacked {\n    margin-left: -12px;  /* 移动端进一步减小堆叠间距 */\n  }\n  \n  .card--stacked:hover {\n    transform: translateX(15px);\n  }\n  \n  .card--stacked.card--selected {\n    transform: translateY(-10px);\n  }\n}\n\n/* 横屏适配 */\n@media (max-height: 600px) and (orientation: landscape) {\n  .card--stacked {\n    margin-left: -10px;  /* 横屏时进一步减小堆叠间距 */\n  }\n  \n  .card--stacked:hover {\n    transform: translateX(12px);\n  }\n  \n  .card--stacked.card--selected {\n    transform: translateY(-6px);\n  }\n}\n</style> "],"mappings":";;EAgBS,SAAM;AAAa;;EACjB,SAAM;AAAa;;EACjB,SAAM;AAAY;;EAClB,SAAM;AAAY;;uBAlB7BA,mBAAA,CAsBM;IArBJ,SAFJC,eAAA,EAEU,MAAM;wBACsBC,MAAA,CAAAC,QAAQ;yBAA2BD,MAAA,CAAAE,QAAQ;sBAAwBF,MAAA,CAAAG,MAAM;yBAA2BH,MAAA,CAAAI,SAAS;uBAAyBJ,MAAA,CAAAK;;IAOvKC,KAAK,EAVVC,eAAA,CAUYC,QAAA,CAAAC,SAAS;IAChBC,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAEH,QAAA,CAAAI,WAAA,IAAAJ,QAAA,CAAAI,WAAA,CAAAC,KAAA,CAAAL,QAAA,EAAAM,SAAA,CAAW;IAAA;IAClBC,YAAU,EAAAJ,MAAA,QAAAA,MAAA;MAAA,OAAEH,QAAA,CAAAQ,gBAAA,IAAAR,QAAA,CAAAQ,gBAAA,CAAAH,KAAA,CAAAL,QAAA,EAAAM,SAAA,CAAgB;IAAA;IAC5BG,WAAS,EAAAN,MAAA,QAAAA,MAAA;MAAA,OAAEH,QAAA,CAAAU,eAAA,IAAAV,QAAA,CAAAU,eAAA,CAAAL,KAAA,CAAAL,QAAA,EAAAM,SAAA,CAAe;IAAA;IAC1BK,UAAQ,EAAAR,MAAA,QAAAA,MAAA;MAAA,OAAEH,QAAA,CAAAY,cAAA,IAAAZ,QAAA,CAAAY,cAAA,CAAAP,KAAA,CAAAL,QAAA,EAAAM,SAAA,CAAc;IAAA;MAEzBO,mBAAA,CAMM,OANNC,UAMM,GALJD,mBAAA,CAGM,OAHNE,UAGM,GAFJF,mBAAA,CAAwC,OAAxCG,UAAwC,EAAAC,gBAAA,CAAbzB,MAAA,CAAA0B,IAAI,kBAC/BL,mBAAA,CAAwC,OAAxCM,UAAwC,EAAAF,gBAAA,CAAbzB,MAAA,CAAA4B,IAAI,iB,6BAEjCP,mBAAA,CAA8B;IAAzB,SAAM;EAAY,4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}