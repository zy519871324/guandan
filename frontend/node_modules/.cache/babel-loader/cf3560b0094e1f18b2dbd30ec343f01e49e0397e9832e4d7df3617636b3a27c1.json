{"ast":null,"code":"export default {\n  name: 'Card',\n  props: {\n    suit: {\n      type: String,\n      required: true\n    },\n    rank: {\n      type: String,\n      required: true\n    },\n    selected: {\n      type: Boolean,\n      default: false\n    },\n    faceDown: {\n      type: Boolean,\n      default: false\n    },\n    played: {\n      type: Boolean,\n      default: false\n    },\n    hoverable: {\n      type: Boolean,\n      default: true\n    },\n    position: {\n      type: Object,\n      default: () => ({\n        x: 0,\n        y: 0\n      })\n    },\n    index: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      touchStartX: 0,\n      touchStartY: 0,\n      isDragging: false\n    };\n  },\n  computed: {\n    cardStyle() {\n      return {\n        transform: `translate(${this.position.x}px, ${this.position.y}px)`,\n        zIndex: this.selected ? 100 : 1\n      };\n    }\n  },\n  methods: {\n    handleClick() {\n      if (!this.hoverable) return;\n      this.$emit('click');\n    },\n    handleTouchStart(event) {\n      if (!this.hoverable) return;\n      this.touchStartX = event.touches[0].clientX;\n      this.touchStartY = event.touches[0].clientY;\n      this.isDragging = false;\n    },\n    handleTouchMove(event) {\n      if (!this.hoverable) return;\n      const touchX = event.touches[0].clientX;\n      const touchY = event.touches[0].clientY;\n      const deltaX = touchX - this.touchStartX;\n      const deltaY = touchY - this.touchStartY;\n      if (Math.abs(deltaX) > 10 || Math.abs(deltaY) > 10) {\n        this.isDragging = true;\n      }\n    },\n    handleTouchEnd(event) {\n      if (!this.hoverable) return;\n      if (!this.isDragging) {\n        this.handleClick();\n      }\n      this.isDragging = false;\n    }\n  }\n};","map":{"version":3,"names":["name","props","suit","type","String","required","rank","selected","Boolean","default","faceDown","played","hoverable","position","Object","x","y","index","Number","data","touchStartX","touchStartY","isDragging","computed","cardStyle","transform","zIndex","methods","handleClick","$emit","handleTouchStart","event","touches","clientX","clientY","handleTouchMove","touchX","touchY","deltaX","deltaY","Math","abs","handleTouchEnd"],"sources":["/Users/zhangyang/Desktop/py/guandan/frontend/src/components/Card.vue"],"sourcesContent":["<template>\n  <div \n    class=\"card\" \n    :class=\"{\n      'card--selected': selected,\n      'card--face-down': faceDown,\n      'card--played': played,\n      'card--hoverable': hoverable\n    }\"\n    :style=\"cardStyle\"\n    @click=\"handleClick\"\n    @touchstart=\"handleTouchStart\"\n    @touchmove=\"handleTouchMove\"\n    @touchend=\"handleTouchEnd\"\n  >\n    <div class=\"card__inner\">\n      <div class=\"card__front\">\n        <div class=\"card__suit\">{{ suit }}</div>\n        <div class=\"card__rank\">{{ rank }}</div>\n      </div>\n      <div class=\"card__back\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Card',\n  props: {\n    suit: {\n      type: String,\n      required: true\n    },\n    rank: {\n      type: String,\n      required: true\n    },\n    selected: {\n      type: Boolean,\n      default: false\n    },\n    faceDown: {\n      type: Boolean,\n      default: false\n    },\n    played: {\n      type: Boolean,\n      default: false\n    },\n    hoverable: {\n      type: Boolean,\n      default: true\n    },\n    position: {\n      type: Object,\n      default: () => ({ x: 0, y: 0 })\n    },\n    index: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      touchStartX: 0,\n      touchStartY: 0,\n      isDragging: false\n    }\n  },\n  computed: {\n    cardStyle() {\n      return {\n        transform: `translate(${this.position.x}px, ${this.position.y}px)`,\n        zIndex: this.selected ? 100 : 1\n      }\n    }\n  },\n  methods: {\n    handleClick() {\n      if (!this.hoverable) return\n      this.$emit('click')\n    },\n    handleTouchStart(event) {\n      if (!this.hoverable) return;\n      this.touchStartX = event.touches[0].clientX;\n      this.touchStartY = event.touches[0].clientY;\n      this.isDragging = false;\n    },\n    handleTouchMove(event) {\n      if (!this.hoverable) return;\n      const touchX = event.touches[0].clientX;\n      const touchY = event.touches[0].clientY;\n      const deltaX = touchX - this.touchStartX;\n      const deltaY = touchY - this.touchStartY;\n      \n      if (Math.abs(deltaX) > 10 || Math.abs(deltaY) > 10) {\n        this.isDragging = true;\n      }\n    },\n    handleTouchEnd(event) {\n      if (!this.hoverable) return;\n      if (!this.isDragging) {\n        this.handleClick();\n      }\n      this.isDragging = false;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.card {\n  width: 70px;\n  height: 100px;\n  perspective: 1000px;\n  cursor: pointer;\n  position: relative;\n  transition: transform 0.3s ease;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  touch-action: none; /* 防止触摸事件的默认行为 */\n  -webkit-touch-callout: none; /* 防止长按菜单 */\n  -webkit-user-select: none; /* 防止文本选择 */\n}\n\n.card--hoverable:hover {\n  transform: translateY(-10px) !important;\n}\n\n.card--selected {\n  transform: translateY(-20px) !important;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\n}\n\n.card--played {\n  animation: playCard 0.5s ease-out;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n}\n\n.card__inner {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  transition: transform 0.6s;\n  transform-style: preserve-3d;\n}\n\n.card--face-down .card__inner {\n  transform: rotateY(180deg);\n}\n\n.card__front,\n.card__back {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  backface-visibility: hidden;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5em;\n  font-weight: bold;\n}\n\n.card__front {\n  background: white;\n  color: #333;\n  border: 2px solid #ddd;\n}\n\n.card__back {\n  background: linear-gradient(45deg, #b22222 25%, transparent 25%),\n              linear-gradient(-45deg, #b22222 25%, transparent 25%),\n              linear-gradient(45deg, transparent 75%, #b22222 75%),\n              linear-gradient(-45deg, transparent 75%, #b22222 75%);\n  background-size: 20px 20px;\n  background-color: #d40000;\n  transform: rotateY(180deg);\n}\n\n.card__suit {\n  font-size: 1.8em;\n  margin-bottom: 5px;\n}\n\n.card__rank {\n  font-size: 1.2em;\n}\n\n@keyframes playCard {\n  0% {\n    transform: scale(1) translateY(0);\n    opacity: 1;\n  }\n  50% {\n    transform: scale(1.2) translateY(-20px);\n    opacity: 0.8;\n  }\n  100% {\n    transform: scale(1) translateY(0);\n    opacity: 1;\n  }\n}\n\n/* 花色颜色 */\n.card__suit[data-suit=\"♥\"],\n.card__suit[data-suit=\"♦\"] {\n  color: #ff0000;\n}\n\n.card__suit[data-suit=\"♠\"],\n.card__suit[data-suit=\"♣\"] {\n  color: #000000;\n}\n\n/* 移动端适配 */\n@media (max-width: 768px) {\n  .card {\n    width: 50px;\n    height: 70px;\n  }\n\n  .card__suit {\n    font-size: 1.4em;\n  }\n\n  .card__rank {\n    font-size: 1em;\n  }\n\n  .card--hoverable:hover {\n    transform: translateY(-5px) !important;\n  }\n\n  .card--selected {\n    transform: translateY(-10px) !important;\n  }\n}\n\n/* 横屏适配 */\n@media (max-height: 600px) and (orientation: landscape) {\n  .card {\n    width: 45px;\n    height: 65px;\n  }\n\n  .card__suit {\n    font-size: 1.2em;\n  }\n\n  .card__rank {\n    font-size: 0.9em;\n  }\n\n  .card--hoverable:hover {\n    transform: translateY(-3px) !important;\n  }\n\n  .card--selected {\n    transform: translateY(-6px) !important;\n  }\n}\n</style> "],"mappings":"AA0BA,eAAe;EACbA,IAAI,EAAE,MAAM;EACZC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDC,IAAI,EAAE;MACJH,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDE,QAAQ,EAAE;MACRJ,IAAI,EAAEK,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDC,QAAQ,EAAE;MACRP,IAAI,EAAEK,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDE,MAAM,EAAE;MACNR,IAAI,EAAEK,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDG,SAAS,EAAE;MACTT,IAAI,EAAEK,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDI,QAAQ,EAAE;MACRV,IAAI,EAAEW,MAAM;MACZL,OAAO,EAAEA,CAAA,MAAO;QAAEM,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE,CAAC;IAChC,CAAC;IACDC,KAAK,EAAE;MACLd,IAAI,EAAEe,MAAM;MACZb,QAAQ,EAAE;IACZ;EACF,CAAC;EACDc,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,CAAC;MACdC,WAAW,EAAE,CAAC;MACdC,UAAU,EAAE;IACd;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,SAASA,CAAA,EAAG;MACV,OAAO;QACLC,SAAS,EAAE,aAAa,IAAI,CAACZ,QAAQ,CAACE,CAAC,OAAO,IAAI,CAACF,QAAQ,CAACG,CAAC,KAAK;QAClEU,MAAM,EAAE,IAAI,CAACnB,QAAO,GAAI,GAAE,GAAI;MAChC;IACF;EACF,CAAC;EACDoB,OAAO,EAAE;IACPC,WAAWA,CAAA,EAAG;MACZ,IAAI,CAAC,IAAI,CAAChB,SAAS,EAAE;MACrB,IAAI,CAACiB,KAAK,CAAC,OAAO;IACpB,CAAC;IACDC,gBAAgBA,CAACC,KAAK,EAAE;MACtB,IAAI,CAAC,IAAI,CAACnB,SAAS,EAAE;MACrB,IAAI,CAACQ,WAAU,GAAIW,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO;MAC3C,IAAI,CAACZ,WAAU,GAAIU,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAACE,OAAO;MAC3C,IAAI,CAACZ,UAAS,GAAI,KAAK;IACzB,CAAC;IACDa,eAAeA,CAACJ,KAAK,EAAE;MACrB,IAAI,CAAC,IAAI,CAACnB,SAAS,EAAE;MACrB,MAAMwB,MAAK,GAAIL,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO;MACvC,MAAMI,MAAK,GAAIN,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAACE,OAAO;MACvC,MAAMI,MAAK,GAAIF,MAAK,GAAI,IAAI,CAAChB,WAAW;MACxC,MAAMmB,MAAK,GAAIF,MAAK,GAAI,IAAI,CAAChB,WAAW;MAExC,IAAImB,IAAI,CAACC,GAAG,CAACH,MAAM,IAAI,EAAC,IAAKE,IAAI,CAACC,GAAG,CAACF,MAAM,IAAI,EAAE,EAAE;QAClD,IAAI,CAACjB,UAAS,GAAI,IAAI;MACxB;IACF,CAAC;IACDoB,cAAcA,CAACX,KAAK,EAAE;MACpB,IAAI,CAAC,IAAI,CAACnB,SAAS,EAAE;MACrB,IAAI,CAAC,IAAI,CAACU,UAAU,EAAE;QACpB,IAAI,CAACM,WAAW,CAAC,CAAC;MACpB;MACA,IAAI,CAACN,UAAS,GAAI,KAAK;IACzB;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}