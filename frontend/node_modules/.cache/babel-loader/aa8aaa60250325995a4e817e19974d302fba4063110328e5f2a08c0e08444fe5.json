{"ast":null,"code":"import { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    player: {\n      id: null,\n      name: ''\n    },\n    room: {\n      id: null,\n      mode: ''\n    },\n    game: {\n      currentTurn: 0,\n      currentLevel: 2,\n      lastPlayedCards: null,\n      myHand: [],\n      playerHandsCount: []\n    }\n  },\n  mutations: {\n    setPlayer(state, player) {\n      state.player = player;\n    },\n    setRoom(state, room) {\n      state.room = room;\n    },\n    updateGame(state, gameState) {\n      state.game = {\n        ...state.game,\n        ...gameState\n      };\n    },\n    clearState(state) {\n      state.player = {\n        id: null,\n        name: ''\n      };\n      state.room = {\n        id: null,\n        mode: ''\n      };\n      state.game = {\n        currentTurn: 0,\n        currentLevel: 2,\n        lastPlayedCards: null,\n        myHand: [],\n        playerHandsCount: []\n      };\n    }\n  },\n  actions: {\n    initializePlayer({\n      commit\n    }, {\n      id,\n      name\n    }) {\n      commit('setPlayer', {\n        id,\n        name\n      });\n    },\n    joinRoom({\n      commit\n    }, {\n      id,\n      mode\n    }) {\n      commit('setRoom', {\n        id,\n        mode\n      });\n    },\n    updateGameState({\n      commit\n    }, gameState) {\n      commit('updateGame', gameState);\n    },\n    resetState({\n      commit\n    }) {\n      commit('clearState');\n    }\n  },\n  getters: {\n    isMyTurn: state => {\n      return state.game.currentTurn === state.player.myIndex;\n    },\n    canPass: state => {\n      return state.game.lastPlayedCards !== null;\n    }\n  }\n});","map":{"version":3,"names":["createStore","state","player","id","name","room","mode","game","currentTurn","currentLevel","lastPlayedCards","myHand","playerHandsCount","mutations","setPlayer","setRoom","updateGame","gameState","clearState","actions","initializePlayer","commit","joinRoom","updateGameState","resetState","getters","isMyTurn","myIndex","canPass"],"sources":["/Users/zhangyang/Desktop/py/guandan/frontend/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    player: {\n      id: null,\n      name: ''\n    },\n    room: {\n      id: null,\n      mode: ''\n    },\n    game: {\n      currentTurn: 0,\n      currentLevel: 2,\n      lastPlayedCards: null,\n      myHand: [],\n      playerHandsCount: []\n    }\n  },\n  mutations: {\n    setPlayer(state, player) {\n      state.player = player\n    },\n    setRoom(state, room) {\n      state.room = room\n    },\n    updateGame(state, gameState) {\n      state.game = { ...state.game, ...gameState }\n    },\n    clearState(state) {\n      state.player = { id: null, name: '' }\n      state.room = { id: null, mode: '' }\n      state.game = {\n        currentTurn: 0,\n        currentLevel: 2,\n        lastPlayedCards: null,\n        myHand: [],\n        playerHandsCount: []\n      }\n    }\n  },\n  actions: {\n    initializePlayer({ commit }, { id, name }) {\n      commit('setPlayer', { id, name })\n    },\n    joinRoom({ commit }, { id, mode }) {\n      commit('setRoom', { id, mode })\n    },\n    updateGameState({ commit }, gameState) {\n      commit('updateGame', gameState)\n    },\n    resetState({ commit }) {\n      commit('clearState')\n    }\n  },\n  getters: {\n    isMyTurn: (state) => {\n      return state.game.currentTurn === state.player.myIndex\n    },\n    canPass: (state) => {\n      return state.game.lastPlayedCards !== null\n    }\n  }\n}) "],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAElC,eAAeA,WAAW,CAAC;EACzBC,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,EAAE,EAAE,IAAI;MACRC,IAAI,EAAE;IACR,CAAC;IACDC,IAAI,EAAE;MACJF,EAAE,EAAE,IAAI;MACRG,IAAI,EAAE;IACR,CAAC;IACDC,IAAI,EAAE;MACJC,WAAW,EAAE,CAAC;MACdC,YAAY,EAAE,CAAC;MACfC,eAAe,EAAE,IAAI;MACrBC,MAAM,EAAE,EAAE;MACVC,gBAAgB,EAAE;IACpB;EACF,CAAC;EACDC,SAAS,EAAE;IACTC,SAASA,CAACb,KAAK,EAAEC,MAAM,EAAE;MACvBD,KAAK,CAACC,MAAM,GAAGA,MAAM;IACvB,CAAC;IACDa,OAAOA,CAACd,KAAK,EAAEI,IAAI,EAAE;MACnBJ,KAAK,CAACI,IAAI,GAAGA,IAAI;IACnB,CAAC;IACDW,UAAUA,CAACf,KAAK,EAAEgB,SAAS,EAAE;MAC3BhB,KAAK,CAACM,IAAI,GAAG;QAAE,GAAGN,KAAK,CAACM,IAAI;QAAE,GAAGU;MAAU,CAAC;IAC9C,CAAC;IACDC,UAAUA,CAACjB,KAAK,EAAE;MAChBA,KAAK,CAACC,MAAM,GAAG;QAAEC,EAAE,EAAE,IAAI;QAAEC,IAAI,EAAE;MAAG,CAAC;MACrCH,KAAK,CAACI,IAAI,GAAG;QAAEF,EAAE,EAAE,IAAI;QAAEG,IAAI,EAAE;MAAG,CAAC;MACnCL,KAAK,CAACM,IAAI,GAAG;QACXC,WAAW,EAAE,CAAC;QACdC,YAAY,EAAE,CAAC;QACfC,eAAe,EAAE,IAAI;QACrBC,MAAM,EAAE,EAAE;QACVC,gBAAgB,EAAE;MACpB,CAAC;IACH;EACF,CAAC;EACDO,OAAO,EAAE;IACPC,gBAAgBA,CAAC;MAAEC;IAAO,CAAC,EAAE;MAAElB,EAAE;MAAEC;IAAK,CAAC,EAAE;MACzCiB,MAAM,CAAC,WAAW,EAAE;QAAElB,EAAE;QAAEC;MAAK,CAAC,CAAC;IACnC,CAAC;IACDkB,QAAQA,CAAC;MAAED;IAAO,CAAC,EAAE;MAAElB,EAAE;MAAEG;IAAK,CAAC,EAAE;MACjCe,MAAM,CAAC,SAAS,EAAE;QAAElB,EAAE;QAAEG;MAAK,CAAC,CAAC;IACjC,CAAC;IACDiB,eAAeA,CAAC;MAAEF;IAAO,CAAC,EAAEJ,SAAS,EAAE;MACrCI,MAAM,CAAC,YAAY,EAAEJ,SAAS,CAAC;IACjC,CAAC;IACDO,UAAUA,CAAC;MAAEH;IAAO,CAAC,EAAE;MACrBA,MAAM,CAAC,YAAY,CAAC;IACtB;EACF,CAAC;EACDI,OAAO,EAAE;IACPC,QAAQ,EAAGzB,KAAK,IAAK;MACnB,OAAOA,KAAK,CAACM,IAAI,CAACC,WAAW,KAAKP,KAAK,CAACC,MAAM,CAACyB,OAAO;IACxD,CAAC;IACDC,OAAO,EAAG3B,KAAK,IAAK;MAClB,OAAOA,KAAK,CAACM,IAAI,CAACG,eAAe,KAAK,IAAI;IAC5C;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}