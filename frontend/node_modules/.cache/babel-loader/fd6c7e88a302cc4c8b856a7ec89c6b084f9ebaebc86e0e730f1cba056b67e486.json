{"ast":null,"code":"export default {\n  name: 'FireworkEffect',\n  props: {\n    count: {\n      type: Number,\n      default: 5\n    }\n  },\n  data() {\n    return {\n      fireworks: [],\n      colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff']\n    };\n  },\n  methods: {\n    createParticle(x, y, color) {\n      const angle = Math.random() * Math.PI * 2;\n      const velocity = Math.random() * 3 + 2;\n      return {\n        x,\n        y,\n        color,\n        velocityX: Math.cos(angle) * velocity,\n        velocityY: Math.sin(angle) * velocity,\n        size: Math.random() * 3 + 2,\n        opacity: 1,\n        style: {}\n      };\n    },\n    createFirework() {\n      const x = Math.random() * 100;\n      const y = Math.random() * 100;\n      const color = this.colors[Math.floor(Math.random() * this.colors.length)];\n      const particleCount = Math.floor(Math.random() * 20) + 20;\n      return {\n        x,\n        y,\n        color,\n        particles: Array(particleCount).fill().map(() => this.createParticle(x, y, color)),\n        style: {\n          left: `${x}%`,\n          top: `${y}%`\n        }\n      };\n    },\n    updateParticleStyle(particle) {\n      particle.style = {\n        left: `${particle.x}%`,\n        top: `${particle.y}%`,\n        width: `${particle.size}px`,\n        height: `${particle.size}px`,\n        backgroundColor: particle.color,\n        opacity: particle.opacity\n      };\n    },\n    animate() {\n      this.fireworks.forEach(firework => {\n        firework.particles.forEach(particle => {\n          particle.x += particle.velocityX;\n          particle.y += particle.velocityY;\n          particle.velocityY += 0.1; // 重力效果\n          particle.opacity -= 0.01;\n          this.updateParticleStyle(particle);\n        });\n        firework.particles = firework.particles.filter(p => p.opacity > 0);\n      });\n      this.fireworks = this.fireworks.filter(f => f.particles.length > 0);\n      if (this.fireworks.length > 0) {\n        requestAnimationFrame(this.animate);\n      }\n    },\n    start() {\n      this.fireworks = Array(this.count).fill().map(() => this.createFirework());\n      this.animate();\n    }\n  },\n  mounted() {\n    this.start();\n  }\n};","map":{"version":3,"names":["name","props","count","type","Number","default","data","fireworks","colors","methods","createParticle","x","y","color","angle","Math","random","PI","velocity","velocityX","cos","velocityY","sin","size","opacity","style","createFirework","floor","length","particleCount","particles","Array","fill","map","left","top","updateParticleStyle","particle","width","height","backgroundColor","animate","forEach","firework","filter","p","f","requestAnimationFrame","start","mounted"],"sources":["/Users/zhangyang/Desktop/py/guandan/frontend/src/components/FireworkEffect.vue"],"sourcesContent":["<template>\n  <div class=\"firework-container\" ref=\"container\">\n    <div v-for=\"(firework, index) in fireworks\" \n         :key=\"index\" \n         class=\"firework\"\n         :style=\"firework.style\">\n      <div v-for=\"(particle, pIndex) in firework.particles\" \n           :key=\"pIndex\" \n           class=\"particle\"\n           :style=\"particle.style\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FireworkEffect',\n  props: {\n    count: {\n      type: Number,\n      default: 5\n    }\n  },\n  data() {\n    return {\n      fireworks: [],\n      colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff']\n    }\n  },\n  methods: {\n    createParticle(x, y, color) {\n      const angle = Math.random() * Math.PI * 2;\n      const velocity = Math.random() * 3 + 2;\n      return {\n        x,\n        y,\n        color,\n        velocityX: Math.cos(angle) * velocity,\n        velocityY: Math.sin(angle) * velocity,\n        size: Math.random() * 3 + 2,\n        opacity: 1,\n        style: {}\n      };\n    },\n    createFirework() {\n      const x = Math.random() * 100;\n      const y = Math.random() * 100;\n      const color = this.colors[Math.floor(Math.random() * this.colors.length)];\n      const particleCount = Math.floor(Math.random() * 20) + 20;\n      \n      return {\n        x,\n        y,\n        color,\n        particles: Array(particleCount).fill().map(() => this.createParticle(x, y, color)),\n        style: {\n          left: `${x}%`,\n          top: `${y}%`\n        }\n      };\n    },\n    updateParticleStyle(particle) {\n      particle.style = {\n        left: `${particle.x}%`,\n        top: `${particle.y}%`,\n        width: `${particle.size}px`,\n        height: `${particle.size}px`,\n        backgroundColor: particle.color,\n        opacity: particle.opacity\n      };\n    },\n    animate() {\n      this.fireworks.forEach(firework => {\n        firework.particles.forEach(particle => {\n          particle.x += particle.velocityX;\n          particle.y += particle.velocityY;\n          particle.velocityY += 0.1; // 重力效果\n          particle.opacity -= 0.01;\n          this.updateParticleStyle(particle);\n        });\n        \n        firework.particles = firework.particles.filter(p => p.opacity > 0);\n      });\n      \n      this.fireworks = this.fireworks.filter(f => f.particles.length > 0);\n      \n      if (this.fireworks.length > 0) {\n        requestAnimationFrame(this.animate);\n      }\n    },\n    start() {\n      this.fireworks = Array(this.count).fill().map(() => this.createFirework());\n      this.animate();\n    }\n  },\n  mounted() {\n    this.start();\n  }\n}\n</script>\n\n<style scoped>\n.firework-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  z-index: 1000;\n}\n\n.firework {\n  position: absolute;\n  transform: translate(-50%, -50%);\n}\n\n.particle {\n  position: absolute;\n  border-radius: 50%;\n  pointer-events: none;\n  transition: opacity 0.1s linear;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}