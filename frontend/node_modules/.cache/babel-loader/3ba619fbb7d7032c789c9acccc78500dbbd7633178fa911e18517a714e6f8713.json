{"ast":null,"code":"import \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nexport default {\n  name: 'FireworkEffect',\n  props: {\n    count: {\n      type: Number,\n      \"default\": 5\n    }\n  },\n  data: function data() {\n    return {\n      fireworks: [],\n      colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff']\n    };\n  },\n  methods: {\n    createParticle: function createParticle(x, y, color) {\n      var angle = Math.random() * Math.PI * 2;\n      var velocity = Math.random() * 3 + 2;\n      return {\n        x: x,\n        y: y,\n        color: color,\n        velocityX: Math.cos(angle) * velocity,\n        velocityY: Math.sin(angle) * velocity,\n        size: Math.random() * 3 + 2,\n        opacity: 1,\n        style: {}\n      };\n    },\n    createFirework: function createFirework() {\n      var _this = this;\n      var x = Math.random() * 100;\n      var y = Math.random() * 100;\n      var color = this.colors[Math.floor(Math.random() * this.colors.length)];\n      var particleCount = Math.floor(Math.random() * 20) + 20;\n      return {\n        x: x,\n        y: y,\n        color: color,\n        particles: Array(particleCount).fill().map(function () {\n          return _this.createParticle(x, y, color);\n        }),\n        style: {\n          left: \"\".concat(x, \"%\"),\n          top: \"\".concat(y, \"%\")\n        }\n      };\n    },\n    updateParticleStyle: function updateParticleStyle(particle) {\n      particle.style = {\n        left: \"\".concat(particle.x, \"%\"),\n        top: \"\".concat(particle.y, \"%\"),\n        width: \"\".concat(particle.size, \"px\"),\n        height: \"\".concat(particle.size, \"px\"),\n        backgroundColor: particle.color,\n        opacity: particle.opacity\n      };\n    },\n    animate: function animate() {\n      var _this2 = this;\n      this.fireworks.forEach(function (firework) {\n        firework.particles.forEach(function (particle) {\n          particle.x += particle.velocityX;\n          particle.y += particle.velocityY;\n          particle.velocityY += 0.1; // 重力效果\n          particle.opacity -= 0.01;\n          _this2.updateParticleStyle(particle);\n        });\n        firework.particles = firework.particles.filter(function (p) {\n          return p.opacity > 0;\n        });\n      });\n      this.fireworks = this.fireworks.filter(function (f) {\n        return f.particles.length > 0;\n      });\n      if (this.fireworks.length > 0) {\n        requestAnimationFrame(this.animate);\n      }\n    },\n    start: function start() {\n      var _this3 = this;\n      this.fireworks = Array(this.count).fill().map(function () {\n        return _this3.createFirework();\n      });\n      this.animate();\n    }\n  },\n  mounted: function mounted() {\n    this.start();\n  }\n};","map":{"version":3,"names":["name","props","count","type","Number","data","fireworks","colors","methods","createParticle","x","y","color","angle","Math","random","PI","velocity","velocityX","cos","velocityY","sin","size","opacity","style","createFirework","_this","floor","length","particleCount","particles","Array","fill","map","left","concat","top","updateParticleStyle","particle","width","height","backgroundColor","animate","_this2","forEach","firework","filter","p","f","requestAnimationFrame","start","_this3","mounted"],"sources":["/Users/zhangyang/Desktop/py/guandan/frontend/src/components/FireworkEffect.vue"],"sourcesContent":["<template>\n  <div class=\"firework-container\" ref=\"container\">\n    <div v-for=\"(firework, index) in fireworks\" \n         :key=\"index\" \n         class=\"firework\"\n         :style=\"firework.style\">\n      <div v-for=\"(particle, pIndex) in firework.particles\" \n           :key=\"pIndex\" \n           class=\"particle\"\n           :style=\"particle.style\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FireworkEffect',\n  props: {\n    count: {\n      type: Number,\n      default: 5\n    }\n  },\n  data() {\n    return {\n      fireworks: [],\n      colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff']\n    }\n  },\n  methods: {\n    createParticle(x, y, color) {\n      const angle = Math.random() * Math.PI * 2;\n      const velocity = Math.random() * 3 + 2;\n      return {\n        x,\n        y,\n        color,\n        velocityX: Math.cos(angle) * velocity,\n        velocityY: Math.sin(angle) * velocity,\n        size: Math.random() * 3 + 2,\n        opacity: 1,\n        style: {}\n      };\n    },\n    createFirework() {\n      const x = Math.random() * 100;\n      const y = Math.random() * 100;\n      const color = this.colors[Math.floor(Math.random() * this.colors.length)];\n      const particleCount = Math.floor(Math.random() * 20) + 20;\n      \n      return {\n        x,\n        y,\n        color,\n        particles: Array(particleCount).fill().map(() => this.createParticle(x, y, color)),\n        style: {\n          left: `${x}%`,\n          top: `${y}%`\n        }\n      };\n    },\n    updateParticleStyle(particle) {\n      particle.style = {\n        left: `${particle.x}%`,\n        top: `${particle.y}%`,\n        width: `${particle.size}px`,\n        height: `${particle.size}px`,\n        backgroundColor: particle.color,\n        opacity: particle.opacity\n      };\n    },\n    animate() {\n      this.fireworks.forEach(firework => {\n        firework.particles.forEach(particle => {\n          particle.x += particle.velocityX;\n          particle.y += particle.velocityY;\n          particle.velocityY += 0.1; // 重力效果\n          particle.opacity -= 0.01;\n          this.updateParticleStyle(particle);\n        });\n        \n        firework.particles = firework.particles.filter(p => p.opacity > 0);\n      });\n      \n      this.fireworks = this.fireworks.filter(f => f.particles.length > 0);\n      \n      if (this.fireworks.length > 0) {\n        requestAnimationFrame(this.animate);\n      }\n    },\n    start() {\n      this.fireworks = Array(this.count).fill().map(() => this.createFirework());\n      this.animate();\n    }\n  },\n  mounted() {\n    this.start();\n  }\n}\n</script>\n\n<style scoped>\n.firework-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  z-index: 1000;\n}\n\n.firework {\n  position: absolute;\n  transform: translate(-50%, -50%);\n}\n\n.particle {\n  position: absolute;\n  border-radius: 50%;\n  pointer-events: none;\n  transition: opacity 0.1s linear;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}